{"ast":null,"code":"import _objectSpread from \"/projects/library-app/client/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport { ADD_BOOK, SEARCH_BOOK, SHOW_ADD_FORM, SHOW_UPDATE_FORM, UPDATE_BOOK_ITEM } from '../constants';\nvar initialState = {\n  bookList: [{\n    id: Math.random(),\n    bookName: \"Theory of Computation\",\n    bookAuthor: \"James\",\n    yearOfRelease: \"2018-11-11\"\n  }, {\n    id: Math.random(),\n    bookName: \"James Bond\",\n    author: \"Andrew\",\n    yearOfRelease: \"2018-11-11\"\n  }, {\n    id: Math.random(),\n    bookName: \"Santa claus\",\n    bookAuthor: \"James\",\n    yearOfRelease: \"2018-11-11\"\n  }, {\n    id: Math.random(),\n    bookName: \"Santa claus\",\n    bookAuthor: \"James\",\n    yearOfRelease: \"2018-11-11\"\n  }],\n  search: \"\",\n  addFormVisibility: false,\n  updateFormVisibility: false\n};\nexport var reducer = function reducer() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case ADD_BOOK:\n      {\n        console.log(action.type, action.payload);\n        var bookItem = action.payload;\n        var bookList = state.bookList;\n        var newBookList = bookList.concat(bookItem);\n        return _objectSpread({}, state, {\n          bookList: newBookList\n        });\n      }\n\n    case SHOW_ADD_FORM:\n      console.log(action.type, action.payload);\n      return _objectSpread({}, state, {\n        addFormVisibility: action.payload\n      });\n\n    case SHOW_UPDATE_FORM:\n      console.log(action.type, action.payload);\n      return _objectSpread({}, state, {\n        updateFormVisibility: action.payload\n      });\n\n    case UPDATE_BOOK_ITEM:\n      {\n        console.log(action.type, action.payload); //                                let { bookList } = state;\n        //                                let bookObj=action.payload;\n        //                                console.log(\"bookObj\", bookObj);\n        //                                let indexOfItem = bookList.findIndex(x => x.id == bookObj.id);\n        //                                let newBookList=bookList;\n        //                                if(bookList[indexOfItem]!==undefined){\n        //                                    newBookList[indexOfItem] = bookObj;                                    \n        //                                }\n        //                                console.log(\"Hello World -> \",bookList, \"Index value \", indexOfItem)\n\n        var _bookList = state.bookList;\n        var bookObj = action.payload;\n        console.log(\"list\", _bookList);\n\n        var _newBookList = _bookList.map(function (bookItem) {\n          if (bookItem.id === bookObj.id) {\n            bookItem = bookObj;\n          }\n        });\n\n        console.log(\"new list\", _newBookList);\n        return _objectSpread({}, state, {\n          bookList: _bookList\n        });\n      }\n\n    case SEARCH_BOOK:\n      console.log(state.bookList, state);\n      break;\n    //                            let newsearch = action.payload;\n    //                            const searchedBookList = state.bookList.filter(function(bookItem) {\n    //\t                           return bookItem.bookName.includes(newsearch);\n    //                            });\n    //                            state.search = newsearch;\n    //                            if(state.search.length < 1){\n    //                              return {...state}  \n    //                            } else {\n    //                              return {...state, search: newsearch, bookList: searchedBookList}\n    //                            }\n\n    default:\n      console.log(\"hello\");\n      return state;\n  }\n};","map":{"version":3,"sources":["/projects/library-app/client/src/reducers/index.js"],"names":["ADD_BOOK","SEARCH_BOOK","SHOW_ADD_FORM","SHOW_UPDATE_FORM","UPDATE_BOOK_ITEM","initialState","bookList","id","Math","random","bookName","bookAuthor","yearOfRelease","author","search","addFormVisibility","updateFormVisibility","reducer","state","action","type","console","log","payload","bookItem","newBookList","concat","bookObj","map"],"mappings":"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","sourcesContent":["import { ADD_BOOK, SEARCH_BOOK, SHOW_ADD_FORM, SHOW_UPDATE_FORM, UPDATE_BOOK_ITEM } from '../constants'; \r\n\r\nconst initialState = {\r\n    bookList:[{\r\n      id:Math.random(), \r\n      bookName: \"Theory of Computation\",\r\n      bookAuthor:\"James\",\r\n      yearOfRelease:\"2018-11-11\"\r\n    },{\r\n      id:Math.random(), \r\n      bookName: \"James Bond\",\r\n      author:\"Andrew\",\r\n      yearOfRelease:\"2018-11-11\",\r\n    },{\r\n      id:Math.random(), \r\n      bookName: \"Santa claus\",\r\n      bookAuthor:\"James\",\r\n      yearOfRelease:\"2018-11-11\"\r\n    },{\r\n      id:Math.random(), \r\n      bookName: \"Santa claus\",\r\n      bookAuthor:\"James\",\r\n      yearOfRelease:\"2018-11-11\"\r\n    }],\r\n    search:\"\",\r\n    addFormVisibility:false,\r\n    updateFormVisibility:false\r\n}\r\n\r\nexport const reducer = (state=initialState,action) => {\r\n    switch(action.type){\r\n        case ADD_BOOK: { console.log(action.type, action.payload);\r\n                        let bookItem = action.payload;\r\n                        let { bookList } = state;\r\n                        const newBookList = bookList.concat(bookItem);\r\n                        return {...state, bookList: newBookList};\r\n                       }\r\n\r\n        case SHOW_ADD_FORM:    console.log(action.type, action.payload);\r\n                                    return{...state, addFormVisibility:action.payload }\r\n        case SHOW_UPDATE_FORM:    console.log(action.type, action.payload);\r\n                                    return{...state, updateFormVisibility:action.payload }\r\n                                    \r\n        case UPDATE_BOOK_ITEM:{console.log(action.type, action.payload);\r\n//                                let { bookList } = state;\r\n//                                let bookObj=action.payload;\r\n//                                console.log(\"bookObj\", bookObj);\r\n//                                let indexOfItem = bookList.findIndex(x => x.id == bookObj.id);\r\n//                                let newBookList=bookList;\r\n//                                if(bookList[indexOfItem]!==undefined){\r\n//                                    newBookList[indexOfItem] = bookObj;                                    \r\n//                                }\r\n//                                console.log(\"Hello World -> \",bookList, \"Index value \", indexOfItem)\r\n                                let {bookList} = state;\r\n                                let bookObj = action.payload;\r\n                                console.log(\"list\", bookList);\r\n                                let newBookList = bookList.map((bookItem)=> {if(bookItem.id===bookObj.id){bookItem=bookObj}})\r\n                                console.log(\"new list\", newBookList)\r\n                                return{\r\n                                    ...state, bookList\r\n                                }\r\n                              }\r\n\r\n        case SEARCH_BOOK:   console.log(state.bookList, state);break;\r\n//                            let newsearch = action.payload;\r\n//                            const searchedBookList = state.bookList.filter(function(bookItem) {\r\n//\t                           return bookItem.bookName.includes(newsearch);\r\n//                            });\r\n//                            state.search = newsearch;\r\n//                            if(state.search.length < 1){\r\n//                              return {...state}  \r\n//                            } else {\r\n//                              return {...state, search: newsearch, bookList: searchedBookList}\r\n//                            }\r\n                            \r\n                            \r\n        default:console.log(\"hello\");return state;\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}