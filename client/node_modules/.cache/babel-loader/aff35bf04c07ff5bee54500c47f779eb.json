{"ast":null,"code":"import _objectSpread from \"/projects/library-app/client/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport { ADD_BOOK, GET_BOOK_LIST, SEARCH_BOOK, SHOW_ADD_FORM, SHOW_UPDATE_FORM, UPDATE_BOOK_ITEM, SET_UPDATE_ITEM, FETCH_BOOK_LIST } from '../constants';\nvar initialState = {\n  bookList: [],\n  search: \"\",\n  addFormVisibility: false,\n  updateFormVisibility: false,\n  updateItem: {}\n};\nexport var reducer = function reducer() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case ADD_BOOK:\n      {\n        console.log(action.type, action.payload);\n        var bookItem = action.payload;\n        var bookList = state.bookList;\n        var newBookList = bookList.concat(bookItem);\n        return _objectSpread({}, state, {\n          bookList: newBookList\n        });\n      }\n\n    case SHOW_ADD_FORM:\n      console.log(action.type, action.payload);\n      return _objectSpread({}, state, {\n        addFormVisibility: action.payload\n      });\n\n    case SHOW_UPDATE_FORM:\n      console.log(action.type, action.payload);\n      return _objectSpread({}, state, {\n        updateFormVisibility: action.payload\n      });\n\n    case UPDATE_BOOK_ITEM:\n      {\n        console.log(action.type, action.payload);\n        var _bookList = state.bookList;\n        var bookObj = action.payload;\n        console.log(\"list\", _bookList);\n\n        var _newBookList = _bookList.map(function (bookItem) {\n          if (bookItem.id === bookObj.id) {\n            bookItem = bookObj;\n          }\n\n          return bookItem;\n        });\n\n        return _objectSpread({}, state, {\n          bookList: _newBookList\n        });\n      }\n\n    case SET_UPDATE_ITEM:\n      {\n        console.log(action.type, action.payload);\n        return _objectSpread({}, state, {\n          updateItem: action.payload\n        });\n      }\n\n    case SEARCH_BOOK:\n      console.log(state.bookList, state);\n      var newsearch = action.payload;\n      return _objectSpread({}, state, {\n        search: newsearch\n      });\n\n    case FETCH_BOOK_LIST:\n      {\n        console.log(action.type, action.payload);\n        return _objectSpread({}, state, {\n          bookList: action.payload\n        });\n      }\n\n    case GET_BOOK_LIST:\n      {\n        console.log(action.type, action.payload);\n        return _objectSpread({}, state);\n      }\n\n    default:\n      return state;\n  }\n};","map":{"version":3,"sources":["/projects/library-app/client/src/reducers/index.js"],"names":["ADD_BOOK","GET_BOOK_LIST","SEARCH_BOOK","SHOW_ADD_FORM","SHOW_UPDATE_FORM","UPDATE_BOOK_ITEM","SET_UPDATE_ITEM","FETCH_BOOK_LIST","initialState","bookList","search","addFormVisibility","updateFormVisibility","updateItem","reducer","state","action","type","console","log","payload","bookItem","newBookList","concat","bookObj","map","id","newsearch"],"mappings":"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","sourcesContent":["import { ADD_BOOK, GET_BOOK_LIST, SEARCH_BOOK, SHOW_ADD_FORM, SHOW_UPDATE_FORM, UPDATE_BOOK_ITEM, SET_UPDATE_ITEM, FETCH_BOOK_LIST } from '../constants'; \r\n\r\nconst initialState = {\r\n    bookList:[],\r\n    search:\"\",\r\n    addFormVisibility:false,\r\n    updateFormVisibility:false,\r\n    updateItem:{}\r\n}\r\n\r\nexport const reducer = (state=initialState,action) => {\r\n    switch(action.type){\r\n        case ADD_BOOK: { console.log(action.type, action.payload);\r\n                        let bookItem = action.payload;\r\n                        let { bookList } = state;\r\n                        const newBookList = bookList.concat(bookItem);\r\n                        return {...state, bookList: newBookList};\r\n                       }\r\n\r\n        case SHOW_ADD_FORM:    console.log(action.type, action.payload);\r\n                                    return{...state, addFormVisibility:action.payload }\r\n        case SHOW_UPDATE_FORM:    console.log(action.type, action.payload);\r\n                                    return{...state, updateFormVisibility:action.payload }\r\n                                    \r\n        case UPDATE_BOOK_ITEM:  { console.log(action.type, action.payload)\r\n                                    let {bookList} = state;\r\n                                    let bookObj = action.payload;\r\n                                    console.log(\"list\", bookList);\r\n                                    let newBookList = bookList.map((bookItem)=> {\r\n                                        if(bookItem.id===bookObj.id){bookItem=bookObj;}\r\n                                        return bookItem;\r\n                                    })\r\n                                    return{\r\n                                        ...state, bookList:newBookList\r\n                                    }\r\n                                }\r\n        case SET_UPDATE_ITEM : {console.log(action.type, action.payload);\r\n                                return{\r\n                                    ...state, updateItem:action.payload\r\n                                }\r\n                               }\r\n\r\n        case SEARCH_BOOK:   console.log(state.bookList, state);\r\n                            let newsearch = action.payload;\r\n                            return {...state, search: newsearch}\r\n        case FETCH_BOOK_LIST: {console.log(action.type, action.payload)\r\n                                return {...state, bookList:action.payload}\r\n                              }\r\n        case GET_BOOK_LIST: {console.log(action.type, action.payload)\r\n                                return {...state}\r\n                            }\r\n\r\n        default:return state;\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}